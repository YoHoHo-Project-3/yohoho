(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t){},104:function(e,t,a){e.exports=a.p+"static/media/boat1.46425fc8.jpeg"},105:function(e,t){e.exports="data:image/png;base64,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"},121:function(e,t,a){e.exports=a(201)},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},149:function(e,t,a){},151:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},196:function(e,t){},201:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),s=a.n(l),o=a(21),c=a(9),i=a(10),u=a(12),m=a(11),p=a(14),h=(a(126),a(127),a(61),a(128),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"main-links"},r.a.createElement(o.b,{className:"blue",to:"/book-trip"},"Want to book a Ride?"),r.a.createElement(o.b,{className:"red",to:"/offer-trip"},"Do You offer a Ride")))}}]),a}(n.Component)),d=a(245);function E(e){return r.a.createElement(d.a,{style:{width:"18rem"}},r.a.createElement("i",{className:e.data.icon}),r.a.createElement(d.a.Body,null,r.a.createElement(d.a.Title,null," ",e.data.title," "),r.a.createElement(d.a.Text,null,e.data.description)))}var f=[{icon:"icon-edit",title:"1. Register",description:"Yohoho is a platform for captains, skippers and passengers. You arepassenger by default, but can became skipper or even captain evertime"},{icon:"icon-search",title:"2. Find your Ride",description:"Look for a certain destination or simply go on a surprise trip. Just add the dates and sails will be set."},{icon:"icon-shopping-cart",title:"3. Do the transaction",description:"After you found the sailing trip of your dreams, do the transaction. Your trip is now fully booked."},{icon:"icon-comments",title:"4. Clear the details",description:"Feel free to chat with your captain any time without using your personal contacts. Make the final arrangements and onboard."}],b=a(231),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={cardData:f},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement("center",null,r.a.createElement("hr",null)),r.a.createElement("div",null,r.a.createElement("h1",{className:"howThisWorks"},"How does it work?")),r.a.createElement(b.a,null,this.state.cardData.map((function(e,t){return r.a.createElement(E,{key:t,data:e})}))))}}]),a}(n.Component),v=a(20),w=a(19),k=a.n(w),y=function(e,t,a){return k.a.post("/api/auth/signup",{name:e,email:t,password:a}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},C=function(e,t){return k.a.post("/api/auth/login",{email:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},O=a(243),j=a(244),N=a(232),x=(a(149),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(v.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.email,l=a.password;y(n,r,l).then((function(t){t.message?e.setState({message:t.message,password:""}):(e.props.setUser(t),e.props.history.push("/profile/"+t._id))}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"signup-background"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("h2",{className:"h2-signup"},"Signup")),r.a.createElement("br",null),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement(O.a.Group,{className:"row"},r.a.createElement(O.a.Label,{className:"signup-form",htmlFor:"name"},"Name: "),r.a.createElement(O.a.Control,{type:"text",name:"name",value:this.state.name,onChange:this.handleChange,id:"name"})),r.a.createElement(O.a.Group,{className:"row"},r.a.createElement(O.a.Label,{className:"signup-form",htmlFor:"email"},"Email: "),r.a.createElement(O.a.Control,{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,id:"input-email"})),r.a.createElement(O.a.Group,{className:"row"},r.a.createElement(O.a.Label,{className:"signup-form",htmlFor:"password"},"Password: "),r.a.createElement(O.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})),this.state.message&&r.a.createElement(j.a,{variant:"danger"},this.state.message),r.a.createElement("div",{className:"button-location"},r.a.createElement(N.a,{className:"signupBtn",type:"submit"},"Signup"))))))}}]),a}(n.Component)),S=(a(151),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(v.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.email,r=a.password;C(n,r).then((function(t){t.message?e.setState({message:t.message}):(e.props.setUser(t),e.props.history.push("/dashboard"))}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-background"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("h2",{className:"h2-login"},"Login")),r.a.createElement("br",null),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement(O.a.Group,{className:"row"},r.a.createElement(O.a.Label,{className:"login-form",htmlFor:"email"},"Email: "),r.a.createElement(O.a.Control,{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,id:"input-email"})),r.a.createElement(O.a.Group,{className:"row"},r.a.createElement(O.a.Label,{className:"login-form",htmlFor:"password"},"Password: "),r.a.createElement(O.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})),this.state.message&&r.a.createElement(j.a,{variant:"danger"},this.state.message),r.a.createElement("div",{className:"button-location"},r.a.createElement(N.a,{className:"loginBtn",type:"submit"},"Login")),r.a.createElement("br",null),r.a.createElement("div",{class:"link-location"},r.a.createElement(o.b,{class:"link-login",to:"/signup"},"If you dont have account click here "))))))}}]),a}(n.Component)),A=a(103),F=a.n(A),L=a(23),T=a.n(L),B=a(30),D=a(37);a(153);function U(e){var t=e.match.params.id,a=Object(n.useState)(null),l=Object(D.a)(a,2),s=l[0],o=l[1];if(Object(n.useEffect)((function(){function e(){return(e=Object(B.a)(T.a.mark((function e(){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/profile/".concat(t));case 2:a=e.sent,o(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),!s)return r.a.createElement("p",null,"Loading ...");var c=s.birthdate?s.birthdate.slice(0,10):"";return r.a.createElement("div",{className:"profile-page"},r.a.createElement("h3",null,s.name," ",s.lastName),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table",width:"300"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Profile Picture"),r.a.createElement("td",null,r.a.createElement("img",{src:s.picture,alt:""}))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Birthdate"),r.a.createElement("td",null,c)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Experience"),r.a.createElement("td",null,s.experience))))))}a(154);var P=a(104),I=a.n(P),M=(a(155),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={clicked:!1,booked:e.props.trip.passengers.includes(e.props.user._id)||"",owner:e.props.trip.user===e.props.user._id},e.handleClick=function(t){e.requestBooking(t),e.setState({clicked:!e.state.clicked,booked:!0})},e.requestBooking=function(){var e=Object(B.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"ID"),e.prev=1,e.next=4,k.a.post("/api/bookTrip/".concat(t));case 4:return e.abrupt("return",r.a.createElement(p.a,{to:"/dashboard"}));case 7:e.prev=7,e.t0=e.catch(1),console.log("Error:"+e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),e.handleUnbook=function(){var t=Object(B.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a,"ID"),t.prev=1,t.next=4,k.a.post("/api/bookTrip/unbook/".concat(a));case 4:return e.setState({booked:!1}),t.abrupt("return",r.a.createElement(p.a,{to:"/dashboard"}));case 8:t.prev=8,t.t0=t.catch(1),console.log("Error:"+t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleDelete=function(){var e=Object(B.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"ID"),e.prev=1,e.next=4,k.a.delete("/api/trips/".concat(t));case 4:return e.abrupt("return",r.a.createElement(p.a,{to:"/dashboard"}));case 7:e.prev=7,e.t0=e.catch(1),console.log("Error:"+e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){e.trip!==this.props.trip&&this.setState({booked:this.props.trip.passengers.includes(this.props.user._id)})}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"tripCardList"},r.a.createElement("div",{className:"tripCard"},this.props.trip.image?r.a.createElement("img",{src:this.props.trip.image,alt:""}):r.a.createElement("img",{src:I.a,alt:"default img"}),r.a.createElement("div",{className:"cardInfo"},r.a.createElement("div",{className:"tripOwnerLink"},r.a.createElement("p",null,this.props.trip.boatName),r.a.createElement(o.b,{id:"linkToTripOwner",to:"/profile/"+this.props.trip.user},"Boat Owner Profile")),r.a.createElement("h5",null,this.props.trip.title),r.a.createElement("p",null,this.props.trip.description),r.a.createElement("div",{className:"tripDates"},r.a.createElement("p",null,"From ",this.props.trip.locationStart," to ",this.props.trip.locationEnd),r.a.createElement("p",null,"Date: ",this.props.trip.date)),r.a.createElement("div",{className:"tripFigures"},r.a.createElement("p",null,"Spots: ",this.props.trip.slotsAvailable),r.a.createElement("p",null,this.props.trip.price,"\u20ac / Ride")),r.a.createElement("div",{className:"bookNowButton"},this.state.owner?r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleDelete(e.props.trip._id)}},"Delete Trip"):this.state.booked?r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleUnbook(e.props.trip._id)}},"Unbook trip"):r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleClick(e.props.trip._id)}},"Book trip")))))}}]),a}(n.Component)),Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={trips:[],loading:!0,locationStart:"",locationEnd:"",date:""},e.handleChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(v.a)({},r,n))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;k.a.get("/api/trips").then((function(t){e.setState({trips:t.data,loading:!1})}))}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement("h1",null,"Loading.....");var t=this.state.trips.filter((function(t){return t.locationStart.toLowerCase().includes(e.state.locationStart.toLowerCase())&&t.locationEnd.toLowerCase().includes(e.state.locationEnd.toLowerCase())&&t.date.includes(e.state.date)}));return r.a.createElement("div",{className:"book"},r.a.createElement("h1",null," All Trips"),r.a.createElement("div",{className:"inputGroup"},r.a.createElement("input",{type:"text",name:"locationStart",value:this.state.locationStart,placeholder:"Location Start",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"locationEnd",value:this.state.locationEnd,placeholder:"Location End",onChange:this.handleChange}),r.a.createElement("input",{type:"date",name:"date",value:this.state.date,placeholder:"date",onChange:this.handleChange})),r.a.createElement("div",null,t.map((function(t){return r.a.createElement(M,{key:t._id,trip:t,user:e.props.user})}))),0===t.length&&r.a.createElement("h1",null,"Sorry, we couldn't find any trips"))}}]),a}(n.Component),R=(a(156),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={cardData:f},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"book-trip"},r.a.createElement(Z,{user:this.props.user}),r.a.createElement("center",null,r.a.createElement("hr",null)),r.a.createElement("div",null,r.a.createElement("h1",{className:"howThisWorks"},"How does it work?")),r.a.createElement(b.a,null,this.state.cardData.map((function(e,t){return r.a.createElement(E,{key:t,data:e})}))))}}]),a}(n.Component)),z=Object(p.g)(R),W=(a(157),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.userId,title:"",description:"",locationStart:"",locationEnd:"",date:"",boatName:"",price:"",slotsAvailable:"",image:""},e.handleChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(v.a)({},r,n))},e.handleSubmit=function(t){t.preventDefault(),console.log("clicked"),k.a.post("/api/trips",e.state).then((function(t){e.props.history.push("/dashboard"),console.log(t)})).catch((function(e){console.log("posting failed",e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"create"},r.a.createElement("h1",{className:"createh1"},"Create the Trip"),r.a.createElement("div",{className:"formCreate"},r.a.createElement("form",{className:"inputs"},r.a.createElement("div",null,r.a.createElement("label",{className:"titlelbl",htmlFor:"title"},"Title: "),r.a.createElement("input",{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"description"},"Description: "),r.a.createElement("input",{type:"text",name:"description",id:"description",value:this.state.description,onChange:this.handleChange})," "),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"locationStart"},"Start: "),r.a.createElement("input",{type:"text",name:"locationStart",id:"locationStart",value:this.state.locationStart,onChange:this.handleChange})," "),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"locationEnd"},"End: "),r.a.createElement("input",{type:"text",name:"locationEnd",id:"locationEnd",value:this.state.locationEnd,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"date"},"Date: "),r.a.createElement("input",{type:"date",name:"date",id:"date",value:this.state.date,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"slotsAvailable"},"Available slots: "),r.a.createElement("input",{type:"number",name:"slotsAvailable",id:"slotsAvailable",value:this.state.slotsAvailable,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"price"},"Price: "),r.a.createElement("input",{type:"text",name:"price",id:"price",value:this.state.price,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"boatName"},"Name of yor Boat: "),r.a.createElement("input",{type:"text",name:"boatName",id:"boatName",value:this.state.boatName,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"image"},"Photo: "),r.a.createElement("input",{type:"text",name:"image",id:"image",value:this.state.image,onChange:this.handleChange})),r.a.createElement("button",{className:"createBtn",onClick:this.handleSubmit}," Submit"))))}}]),a}(n.Component)),G=Object(p.g)(W),H=(a(158),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={cardData:f},e}return Object(i.a)(a,[{key:"render",value:function(){return""===this.props.user&&this.props.history.push("login"),r.a.createElement("div",null,r.a.createElement(G,{userId:this.props.user._id}),r.a.createElement("center",null,r.a.createElement("hr",null)),r.a.createElement("div",null,r.a.createElement("h1",{className:"howThisWorks"},"How does it work?")),r.a.createElement(b.a,null,this.state.cardData.map((function(e,t){return r.a.createElement(E,{key:t,data:e})}))))}}]),a}(n.Component)),X=Object(p.g)(H),V=(a(159),a(105)),q=a.n(V),J=function(e){k.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))},K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"nav-items"},r.a.createElement(o.b,{to:"/"},r.a.createElement("img",{src:q.a,alt:"yohoho"})),r.a.createElement("div",{className:"link-wrapper"},this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{className:"nav-Link blue",to:"/dashboard"},this.props.user.name," ",this.props.user.lastName),r.a.createElement(o.b,{className:"nav-Link red",to:"/",onClick:function(){return J(e.props)}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{className:"nav-Link red",to:"/signup"},"Signup"),r.a.createElement(o.b,{className:"nav-Link blue",to:"/login"},"Login"))))}}]),a}(n.Component);a(160),a(161);function Y(e){return r.a.createElement("div",{className:"dashboard-menue"},r.a.createElement("div",null,r.a.createElement(d.a,{style:{width:"18rem"}},r.a.createElement(d.a.Img,{variant:"top",src:e.user.picture}),r.a.createElement(d.a.Body,null,r.a.createElement(d.a.Title,{id:"dashboard-name"},e.user.name," ",e.user.lastName),r.a.createElement(d.a.Text,{id:"dashboard-experience"},'"',e.user.experience,'"')))),r.a.createElement("div",{className:"link-block-menue"},r.a.createElement("a",{rel:"stylesheet",href:"#",onClick:e.showOwnTrips},"Owned Trips"),r.a.createElement("a",{rel:"stylesheet",href:"#",onClick:e.showBookedTrips},"Booked Trips"),r.a.createElement("a",{rel:"stylesheet",href:"/offer-trip"},"Create Trip"),r.a.createElement("a",{rel:"stylesheet",href:"#",onClick:e.showProfile},"Profile"),r.a.createElement("a",{rel:"stylesheet",href:"/chat"},"Chat")))}a(162),a(163);var Q,_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"profile-edit-page"},r.a.createElement("h3",null,"Edit your Profile"),r.a.createElement(O.a,{onSubmit:this.props.handleSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"picture"},"Picture"),r.a.createElement(O.a.Control,{type:"text",name:"picture",id:"picture",value:this.props.user.picture,onChange:this.props.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"name"},"Name"),r.a.createElement(O.a.Control,{type:"text",name:"name",id:"name",value:this.props.user.name,onChange:this.props.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"lastName"},"Lastname"),r.a.createElement(O.a.Control,{type:"text",name:"lastName",id:"lastName",value:this.props.user.lastName,onChange:this.props.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"email"},"Email"),r.a.createElement(O.a.Control,{type:"text",name:"email",id:"email",value:this.props.user.email,onChange:this.props.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"telephone"},"Phone"),r.a.createElement(O.a.Control,{type:"number",name:"telephone",id:"telephone",value:this.props.user.telephone,onChange:this.props.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"birthdate"},"Birthdate"),r.a.createElement(O.a.Control,{type:"date",name:"birthdate",id:"birthdate",value:this.props.user.birthdate,onChange:this.props.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"experience"},"Experience"),r.a.createElement(O.a.Control,{type:"text",name:"experience",id:"experience",value:this.props.user.experience,onChange:this.props.handleChange})),r.a.createElement("button",{className:"btn btn-danger",onClick:this.toggleEditForm},"Save")))}}]),a}(n.Component),$=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState({user:Object.assign(n.state.user,Object(v.a)({},a,r))})},n.handleSubmit=function(e){e.preventDefault(),k.a.put("/api/profile",n.state.user).then((function(e){n.setState({user:n.fixEmptyUserFields(e.data)}),n.toggleEditForm(),n.props.handleUserChange(e.data)})).catch((function(e){console.log(e)}))},n.toggleEditForm=function(){n.setState((function(e){return{editForm:!e.editForm}}))},n.state={error:null,editForm:!1,user:n.fixEmptyUserFields(e.user)},n}return Object(i.a)(a,[{key:"fixEmptyUserFields",value:function(e){return{name:e.name||"",lastName:e.lastName||"",picture:e.picture||"",email:e.email||"",telephone:e.telephone||"",experience:e.experience||"",birthdate:e.birthdate||""}}},{key:"render",value:function(){if(this.state.error)return r.a.createElement("div",null,this.state.error);if(!this.state.user)return r.a.createElement("p",null,"Loading ...");var e=this.state.user.birthdate?this.state.user.birthdate.slice(0,10):"";return r.a.createElement("div",{className:"profile-page"},r.a.createElement("h3",null,"Your profile"),this.state.editForm?r.a.createElement(_,{user:this.state.user,handleChange:this.handleChange,handleSubmit:this.handleSubmit}):r.a.createElement("div",{id:"profile-blog"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",{className:"responsive-row"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Profile Picture"),r.a.createElement("td",null,this.state.user.picture)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("td",null,this.state.user.name)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Lastname:"),r.a.createElement("td",null,this.state.user.lastName)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("td",null,this.state.user.email)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Password"),r.a.createElement("td",null,"********")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Birthdate"),r.a.createElement("td",null,e)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Phone"),r.a.createElement("td",null,this.state.user.telephone)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Experience"),r.a.createElement("td",null,this.state.user.experience)))),r.a.createElement("button",{className:"btn btn-danger",onClick:this.toggleEditForm},"Edit Profile")))}}]),a}(n.Component),ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this)).handleUserChange=function(e){n.setState({user:e})},n.state={ownTrips:[],bookedTrips:[],showMode:"ownTrips",user:e.user},n}return Object(i.a)(a,[{key:"getDataOwnTrips",value:function(){var e=Object(B.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("/api/trips?user="+this.state.user._id);case 3:t=e.sent,console.log(t),this.setState({ownTrips:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getDataBookedTrips",value:function(){var e=Object(B.a)(T.a.mark((function e(){var t,a=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("/api/trips");case 3:t=e.sent,console.log(t),this.setState({bookedTrips:t.data.filter((function(e){return e.passengers.includes(a.state.user._id)}))}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getDataOwnTrips(),this.getDataBookedTrips()}},{key:"showOwnTrips",value:function(){this.setState({showMode:"ownTrips"})}},{key:"showBookedTrips",value:function(){this.setState({showMode:"bookedTrips"})}},{key:"showProfile",value:function(){this.setState({showMode:"profile"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"dashboard"},r.a.createElement(Y,{user:this.state.user,showOwnTrips:function(){e.showOwnTrips()},showBookedTrips:function(){e.showBookedTrips()},showProfile:function(){e.showProfile()}}),r.a.createElement("div",null,"ownTrips"===this.state.showMode?this.state.ownTrips.map((function(t,a){return r.a.createElement(M,{trip:t,key:a,user:e.props.user})})):null,"bookedTrips"===this.state.showMode?this.state.bookedTrips.map((function(t,a){return r.a.createElement(M,{trip:t,key:a,user:e.props.user})})):null,"profile"===this.state.showMode?r.a.createElement($,{handleUserChange:function(t){e.handleUserChange(t)},user:this.state.user}):null))}}]),a}(n.Component),te=a(233),ae=a(236),ne=a(60),re=a(238),le=a(239),se=a(240),oe=a(241),ce=a(242),ie=a(109),ue=a(73),me=a(106),pe=a.n(me),he=r.a.createContext(),de={general:[],random:[]};function Ee(e,t){var a=t.payload,n=a.from,r=a.msg,l=a.topic;switch(t.type){case"RECEIVE_MESSAGE":return Object(ue.a)(Object(ue.a)({},e),{},Object(v.a)({},l,[].concat(Object(ie.a)(e[l]),[{from:n,msg:r}])));default:return e}}function fe(e){Q.emit("chat message",e)}function be(e){var t=r.a.useReducer(Ee,de),a=Object(D.a)(t,2),n=a[0],l=a[1];return Q||(Q=pe()("https://yohoho-trips.herokuapp.com/")).on("chat message",(function(e){l({type:"RECEIVE_MESSAGE",payload:e})})),r.a.createElement(he.Provider,{value:{allChats:n,sendChatAction:fe}},e.children)}var ge=Object(te.a)((function(e){return{root:{width:"70%",marginLeft:"260px",marginTop:"70px",padding:e.spacing(3,2)},flex:{display:"flex",alignItems:"center"},topicsWindow:{width:"15%",height:"300px",borderRight:"2px solid grey"},chatWindow:{width:"60%",height:"400px",padding:"20px"},chatBox:{width:"85%",marginLeft:"15em",marginRight:"4em"},button:{width:"10%",marginRight:"5em"},msgs:{color:"#3f51b5"}}}));function ve(e){var t=ge(),a=r.a.useContext(he),n=a.allChats,l=a.sendChatAction,s=Object.keys(n),o=r.a.useState(s[0]),c=Object(D.a)(o,2),i=c[0],u=c[1],m=r.a.useState(""),p=Object(D.a)(m,2),h=p[0],d=p[1];return r.a.createElement("div",null,r.a.createElement(ae.a,{className:t.root},r.a.createElement(ne.a,{className:"chat-blue chat-center",variant:"h4",component:"h1"},"Chat app"),r.a.createElement(ne.a,{className:"chat-blue",variant:"h4",component:"h3"},"Topics:"),r.a.createElement(ne.a,{className:"chat-blue chat-center",component:"h5"},"Choosen topic: ",i),r.a.createElement("div",{className:t.flex},r.a.createElement("div",{className:t.topicsWindow},r.a.createElement(re.a,null,s.map((function(e){return r.a.createElement(le.a,{onClick:function(e){u(e.target.innerText)},key:e,button:!0},r.a.createElement(se.a,{primary:e}))})))),r.a.createElement("div",{className:t.chatWindow},n[i].map((function(e,a){var n;return r.a.createElement("div",(n={className:t.flex},Object(v.a)(n,"className",t.msgs),Object(v.a)(n,"key",a),n),r.a.createElement(ne.a,{variant:"body1",gutterBottom:!0},e.from,": ",e.msg))})))),r.a.createElement("div",{className:t.flex},r.a.createElement(ce.a,{label:"Send a message",className:t.chatBox,value:h,onChange:function(e){return d(e.target.value)}}),r.a.createElement(oe.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){l({from:e.user.username,msg:h,topic:i}),d("")}},"Send"))))}var we=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{setUser:this.setUser,user:this.state.user}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:g}),r.a.createElement(p.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(x,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(p.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(S,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(p.b,{exact:!0,path:"/logout",render:function(t){return r.a.createElement(F.a,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(p.b,{exact:!0,path:"/profile/:id",render:function(e){return r.a.createElement(U,e)}}),r.a.createElement(p.b,{exact:!0,path:"/dashboard/",render:function(t){return r.a.createElement(ee,Object.assign({user:e.state.user},t))}}),r.a.createElement(p.b,{exact:!0,path:"/book-trip",render:function(t){return r.a.createElement(z,Object.assign({user:e.state.user},t))}}),r.a.createElement(p.b,{exact:!0,path:"/offer-trip",render:function(t){return r.a.createElement(X,Object.assign({user:e.state.user},t))}}),r.a.createElement(be,null,r.a.createElement(p.b,{exact:!0,path:"/chat",render:function(t){return r.a.createElement(ve,Object.assign({user:e.state.user},t))}}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));k.a.get("/api/auth/loggedin").then((function(e){var t=e.data;s.a.render(r.a.createElement(o.a,null,r.a.createElement(we,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[121,1,2]]]);
//# sourceMappingURL=main.7c28cd03.chunk.js.map